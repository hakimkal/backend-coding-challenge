{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","js/apps/codingtest/codingtest-main.js","js/apps/codingtest/expenses/expenses-controller.js","js/apps/codingtest/expenses/main.js","js/apps/codingtest/partials.js"],"names":[],"mappings":"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","file":"../backend-coding-challenge/codingtest.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\n\n/******************************************************************************************\n\nAlchemytec Coding Test for Expenses Back End\n\n******************************************************************************************/\n\n// App files\nrequire(\"./partials.js\");\nrequire(\"./expenses/main.js\");\n\n// Declare app level module which depends on filters, and services\nvar app = angular.module(\"alcExpenses\", [\n\t\"alcShared\",\n\t\"codingtest.partials\",\n\t\"expenses.controllers\"\n]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Basic config options\n\tvar gulpBuildConfig = {};\n\t$rootScope.config = angular.extend({ angular: angular.version.full }, gulpBuildConfig);\n\n\t// Headings used by the menu bars\n\t$rootScope.mainTitle = \"\";\n\t$rootScope.mainHeading = \"\";\n\n\t// Sections of content are used for bookmark navigation\n\t$rootScope.contentSections = [];\n\n\t// App sections are distinct areas of the website\n\t// These will ultimately be retrieved from the server\n\t$rootScope.appSections = $rootScope.appSections || [];\n\n\t// Initialise tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.currentSection = [];\n\t$rootScope.selectTabSection = function(currentSection, selectedIndex) {\n\t\tif ($rootScope.tabSections[currentSection]) {\n\t\t\t$rootScope.currentSection = angular.copy($rootScope.tabSections[currentSection]);\n\n\t\t\tfor (var u = 0; u < $rootScope.currentSection.length; u++) {\n\t\t\t\tif (u == selectedIndex)\n\t\t\t\t\t$rootScope.currentSection[u].active = true;\n\t\t\t\telse\n\t\t\t\t\t$rootScope.currentSection[u].active = false;\n\t\t\t}\n\t\t}\n\t};\n}]);\n\n// Bootstrap the app\n$(document).ready(function() {\n\tangular.bootstrap(\"body\", [\"alcExpenses\"]);\n});\n","'use strict';\n\n/******************************************************************************************\n\nExpenses controller\n\n******************************************************************************************/\n\nvar app = angular.module('expenses.controller', []);\n\napp.controller('ctrlExpenses', [\n\t'$rootScope',\n\t'$scope',\n\t'config',\n\t'restalchemy',\n\tfunction ExpensesCtrl($rootScope, $scope, $config, $restalchemy) {\n\t\t// Update the headings\n\t\t$rootScope.mainTitle = 'Expenses';\n\t\t$rootScope.mainHeading = 'Expenses';\n\n\t\t// Update the tab sections\n\t\t$rootScope.selectTabSection('expenses', 0);\n\n\t\tvar restExpenses = $restalchemy.init({ root: $config.apiroot }).at('expenses');\n\n\t\t$scope.dateOptions = {\n\t\t\tchangeMonth: true,\n\t\t\tchangeYear: true,\n\t\t\tdateFormat: 'dd/mm/yy',\n\t\t};\n\n\t\tvar loadExpenses = function() {\n\t\t\t// Retrieve a list of expenses via REST\n\t\t\trestExpenses.get().then(function(expenses) {\n\t\t\t\t$scope.expenses = expenses;\n\t\t\t});\n\t\t};\n\n\t\t$scope.saveExpense = function() {\n\t\t\tif ($scope.expensesform.$valid) {\n\t\t\t\t// Post the expense via REST\n\n\t\t\t\trestExpenses.post($scope.newExpense).then(function() {\n\t\t\t\t\t// Reload new expenses list\n\t\t\t\t\tloadExpenses();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t$scope.$watchGroup(['newExpense.amount'], function() {\n\t\t\tif ($scope.newExpense.amount !== undefined) {\n\t\t\t\tvar strAmount = $scope.newExpense.amount;\n\t\t\t\tvar s = strAmount.split(/[EUR]| â‚¬ |\\u20AC/gi);\n\n\t\t\t\tif (s.length > 1) {\n\t\t\t\t\t//remove  EUR from amount if any\n\t\t\t\t\tvar theAmount = parseFloat(s.join('').trim());\n\n\t\t\t\t\ts = theAmount;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$scope.newExpense.vat = (s - s / 1.2).toFixed(2);\n\t\t});\n\t\t$scope.clearExpense = function() {\n\t\t\t$scope.newExpense = {};\n\t\t};\n\n\t\t// Initialise scope variables\n\t\tloadExpenses();\n\t\t$scope.clearExpense();\n\t},\n]);\n","\"use strict\";\n\n/******************************************************************************************\n\nTasks main\n\n******************************************************************************************/\n\nrequire(\"./expenses-controller.js\");\n\nvar app = angular.module(\"expenses.controllers\", [\n\t\"expenses.controller\"\n]);\n\napp.config([\"$routeProvider\", function($routeProvider) {\n\t// Labour analysis routes\n\t$routeProvider.when(\"/expenses\", { templateUrl: \"codingtest/expenses-content.html\" });\n\n\t$routeProvider.otherwise({redirectTo: \"/expenses\"});\n}]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Add app button\n\t$rootScope.appSections = $rootScope.appSections || [];\n\t$rootScope.appSections.push({ title: \"Expenses\", image: \"img/icon-generic.png\", app: \"expenses\" });\n\n\t// Configure tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.tabSections.expenses = [\n\t\t{ title: \"Expenses\", app: \"expenses\" }\n\t];\n}]);\n","angular.module(\"codingtest.partials\",[]).run([\"$templateCache\",function(e){e.put(\"codingtest/expenses-content.html\",'<div ng-controller=\"ctrlExpenses\"><h2>Expenses</h2><div bookmarklist id=\"bookmarks\" class=\"section-list\"></div><h3>Add an expense</h3><form name=\"expensesform\"><ul><li><label>Date</label> <input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.date\" ui-date=\"dateOptions\" placeholder=\"dd/mm/yyyy\"></li><li><label>Amount</label> <input type=\"text\" ng-pattern-restrict=\"^$|^[A-Za-z0-9]+\" ng-required=\"true\" ng-model=\"newExpense.amount\" placeholder=\"00.00\"></li><li><label>VAT(20%)</label> <input type=\"text\" ng-required=\"false\" readonly=\"true\" ng-model=\"newExpense.vat\" placeholder=\"00.00\"></li><li><label>Reason</label> <textarea at-auto-resize ng-required=\"true\" ng-model=\"newExpense.reason\" ng-trim=\"false\" placeholder=\"why oh why?\"></textarea></li><li><label></label> <button ng-click=\"saveExpense()\" class=\"solid\">Save Expense</button> <button ng-click=\"clearExpense()\">cancel</button></li></ul></form><h3>Submitted expenses</h3><div class=\"list-table expenses-data\"><div class=\"header-row\"><div class=\"col-4\">Date</div><div class=\"col-4 figures\">Amount (inc. VAT)</div><div class=\"col-2 figures\">VAT</div><div class=\"col-15\">Reason</div></div><div ng-repeat=\"expense in expenses\" class=\"body-row\"><div class=\"col-4\">{{expense.date | date:\\'dd MMM yyyy\\'}}</div><div class=\"col-4 figures\">{{expense.amount | currency:\"&pound;\"}}</div><div class=\"col-2 figures\">{{expense.vat | currency:\"&pound;\"}}</div><div class=\"col-15\">{{expense.reason}}</div></div></div></div>')}]);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvY29kaW5ndGVzdC1tYWluLmpzIiwianMvYXBwcy9jb2Rpbmd0ZXN0L2V4cGVuc2VzL2V4cGVuc2VzLWNvbnRyb2xsZXIuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvZXhwZW5zZXMvbWFpbi5qcyIsImpzL2FwcHMvY29kaW5ndGVzdC9wYXJ0aWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQUVBOzs7Ozs7QUFNQTs7QUFDQSxRQUFRLGVBQVI7QUFDQSxRQUFRLG9CQUFSOztBQUVBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsTUFBUixDQUFlLGFBQWYsRUFBOEIsQ0FDdkMsV0FEdUMsRUFFdkMscUJBRnVDLEVBR3ZDLHNCQUh1QyxDQUE5QixDQUFWOztBQU1BLElBQUksR0FBSixDQUFRLENBQUMsWUFBRCxFQUFlLFVBQVMsVUFBVCxFQUFxQjtBQUMzQztBQUNBLEtBQUksa0JBQWtCLEVBQXRCO0FBQ0EsWUFBVyxNQUFYLEdBQW9CLFFBQVEsTUFBUixDQUFlLEVBQUUsU0FBUyxRQUFRLE9BQVIsQ0FBZ0IsSUFBM0IsRUFBZixFQUFrRCxlQUFsRCxDQUFwQjs7QUFFQTtBQUNBLFlBQVcsU0FBWCxHQUF1QixFQUF2QjtBQUNBLFlBQVcsV0FBWCxHQUF5QixFQUF6Qjs7QUFFQTtBQUNBLFlBQVcsZUFBWCxHQUE2QixFQUE3Qjs7QUFFQTtBQUNBO0FBQ0EsWUFBVyxXQUFYLEdBQXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDs7QUFFQTtBQUNBLFlBQVcsV0FBWCxHQUF5QixXQUFXLFdBQVgsSUFBMEIsRUFBbkQ7QUFDQSxZQUFXLGNBQVgsR0FBNEIsRUFBNUI7QUFDQSxZQUFXLGdCQUFYLEdBQThCLFVBQVMsY0FBVCxFQUF5QixhQUF6QixFQUF3QztBQUNyRSxNQUFJLFdBQVcsV0FBWCxDQUF1QixjQUF2QixDQUFKLEVBQTRD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LHFCQURnRCxDQUF2QyxDQUFWOztBQUlBLElBQUksTUFBSixDQUFXLENBQUMsZ0JBQUQsRUFBbUIsVUFBUyxjQUFULEVBQXlCO0FBQ3REO0FBQ0EsZ0JBQWUsSUFBZixDQUFvQixXQUFwQixFQUFpQyxFQUFFLGFBQWEsa0NBQWYsRUFBakM7O0FBRUEsZ0JBQWUsU0FBZixDQUF5QixFQUFDLFlBQVksV0FBYixFQUF6QjtBQUNBLENBTFUsQ0FBWDs7QUFPQSxJQUFJLEdBQUosQ0FBUSxDQUFDLFlBQUQsRUFBZSxVQUFTLFVBQVQsRUFBcUI7QUFDM0M7QUFDQSxZQUFXLFdBQVgsR0FBeUIsV0FBVyxXQUFYLElBQTBCLEVBQW5EO0FBQ0EsWUFBVyxXQUFYLENBQXVCLElBQXZCLENBQTRCLEVBQUUsT0FBTyxVQUFULEVBQXFCLE9BQU8sc0JBQTVCLEVBQW9ELEtBQUssVUFBekQsRUFBNUI7O0FBRUE7QUFDQSxZQUFXLFdBQVgsR0FBeUIsV0FBVyxXQUFYLElBQTBCLEVBQW5EO0FBQ0EsWUFBVyxXQUFYLENBQXVCLFFBQXZCLEdBQWtDLENBQ2pDLEVBQUUsT0FBTyxVQUFULEVBQXFCLEtBQUssVUFBMUIsRUFEaUMsQ0FBbEM7QUFHQSxDQVZPLENBQVI7Ozs7O0FDckJBLFFBQVEsTUFBUixDQUFlLHFCQUFmLEVBQXFDLEVBQXJDLEVBQXlDLEdBQXpDLENBQTZDLENBQUMsZ0JBQUQsRUFBa0IsVUFBUyxDQUFULEVBQVc7QUFBQyxJQUFFLEdBQUYsQ0FBTSxrQ0FBTixFQUF5QyxpOENBQXpDO0FBQTQrQyxDQUExZ0QsQ0FBN0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5BbGNoZW15dGVjIENvZGluZyBUZXN0IGZvciBFeHBlbnNlcyBCYWNrIEVuZFxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIEFwcCBmaWxlc1xucmVxdWlyZShcIi4vcGFydGlhbHMuanNcIik7XG5yZXF1aXJlKFwiLi9leHBlbnNlcy9tYWluLmpzXCIpO1xuXG4vLyBEZWNsYXJlIGFwcCBsZXZlbCBtb2R1bGUgd2hpY2ggZGVwZW5kcyBvbiBmaWx0ZXJzLCBhbmQgc2VydmljZXNcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFsY0V4cGVuc2VzXCIsIFtcblx0XCJhbGNTaGFyZWRcIixcblx0XCJjb2Rpbmd0ZXN0LnBhcnRpYWxzXCIsXG5cdFwiZXhwZW5zZXMuY29udHJvbGxlcnNcIlxuXSk7XG5cbmFwcC5ydW4oW1wiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cdC8vIEJhc2ljIGNvbmZpZyBvcHRpb25zXG5cdHZhciBndWxwQnVpbGRDb25maWcgPSB7fTtcblx0JHJvb3RTY29wZS5jb25maWcgPSBhbmd1bGFyLmV4dGVuZCh7IGFuZ3VsYXI6IGFuZ3VsYXIudmVyc2lvbi5mdWxsIH0sIGd1bHBCdWlsZENvbmZpZyk7XG5cblx0Ly8gSGVhZGluZ3MgdXNlZCBieSB0aGUgbWVudSBiYXJzXG5cdCRyb290U2NvcGUubWFpblRpdGxlID0gXCJcIjtcblx0JHJvb3RTY29wZS5tYWluSGVhZGluZyA9IFwiXCI7XG5cblx0Ly8gU2VjdGlvbnMgb2YgY29udGVudCBhcmUgdXNlZCBmb3IgYm9va21hcmsgbmF2aWdhdGlvblxuXHQkcm9vdFNjb3BlLmNvbnRlbnRTZWN0aW9ucyA9IFtdO1xuXG5cdC8vIEFwcCBzZWN0aW9ucyBhcmUgZGlzdGluY3QgYXJlYXMgb2YgdGhlIHdlYnNpdGVcblx0Ly8gVGhlc2Ugd2lsbCB1bHRpbWF0ZWx5IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBzZXJ2ZXJcblx0JHJvb3RTY29wZS5hcHBTZWN0aW9ucyA9ICRyb290U2NvcGUuYXBwU2VjdGlvbnMgfHwgW107XG5cblx0Ly8gSW5pdGlhbGlzZSB0YWIgc2VjdGlvbnNcblx0JHJvb3RTY29wZS50YWJTZWN0aW9ucyA9ICRyb290U2NvcGUudGFiU2VjdGlvbnMgfHwge307XG5cdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb24gPSBbXTtcblx0JHJvb3RTY29wZS5zZWxlY3RUYWJTZWN0aW9uID0gZnVuY3Rpb24oY3VycmVudFNlY3Rpb24sIHNlbGVjdGVkSW5kZXgpIHtcblx0XHRpZiAoJHJvb3RTY29wZS50YWJTZWN0aW9uc1tjdXJyZW50U2VjdGlvbl0pIHtcblx0XHRcdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb24gPSBhbmd1bGFyLmNvcHkoJHJvb3RTY29wZS50YWJTZWN0aW9uc1tjdXJyZW50U2VjdGlvbl0pO1xuXG5cdFx0XHRmb3IgKHZhciB1ID0gMDsgdSA8ICRyb290U2NvcGUuY3VycmVudFNlY3Rpb24ubGVuZ3RoOyB1KyspIHtcblx0XHRcdFx0aWYgKHUgPT0gc2VsZWN0ZWRJbmRleClcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uW3VdLmFjdGl2ZSA9IHRydWU7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uW3VdLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1dKTtcblxuLy8gQm9vdHN0cmFwIHRoZSBhcHBcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRhbmd1bGFyLmJvb3RzdHJhcChcImJvZHlcIiwgW1wiYWxjRXhwZW5zZXNcIl0pO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuRXhwZW5zZXMgY29udHJvbGxlclxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZXhwZW5zZXMuY29udHJvbGxlcicsIFtdKTtcblxuYXBwLmNvbnRyb2xsZXIoJ2N0cmxFeHBlbnNlcycsIFtcblx0JyRyb290U2NvcGUnLFxuXHQnJHNjb3BlJyxcblx0J2NvbmZpZycsXG5cdCdyZXN0YWxjaGVteScsXG5cdGZ1bmN0aW9uIEV4cGVuc2VzQ3RybCgkcm9vdFNjb3BlLCAkc2NvcGUsICRjb25maWcsICRyZXN0YWxjaGVteSkge1xuXHRcdC8vIFVwZGF0ZSB0aGUgaGVhZGluZ3Ncblx0XHQkcm9vdFNjb3BlLm1haW5UaXRsZSA9ICdFeHBlbnNlcyc7XG5cdFx0JHJvb3RTY29wZS5tYWluSGVhZGluZyA9ICdFeHBlbnNlcyc7XG5cblx0XHQvLyBVcGRhdGUgdGhlIHRhYiBzZWN0aW9uc1xuXHRcdCRyb290U2NvcGUuc2VsZWN0VGFiU2VjdGlvbignZXhwZW5zZXMnLCAwKTtcblxuXHRcdHZhciByZXN0RXhwZW5zZXMgPSAkcmVzdGFsY2hlbXkuaW5pdCh7IHJvb3Q6ICRjb25maWcuYXBpcm9vdCB9KS5hdCgnZXhwZW5zZXMnKTtcblxuXHRcdCRzY29wZS5kYXRlT3B0aW9ucyA9IHtcblx0XHRcdGNoYW5nZU1vbnRoOiB0cnVlLFxuXHRcdFx0Y2hhbmdlWWVhcjogdHJ1ZSxcblx0XHRcdGRhdGVGb3JtYXQ6ICdkZC9tbS95eScsXG5cdFx0fTtcblxuXHRcdHZhciBsb2FkRXhwZW5zZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIFJldHJpZXZlIGEgbGlzdCBvZiBleHBlbnNlcyB2aWEgUkVTVFxuXHRcdFx0cmVzdEV4cGVuc2VzLmdldCgpLnRoZW4oZnVuY3Rpb24oZXhwZW5zZXMpIHtcblx0XHRcdFx0JHNjb3BlLmV4cGVuc2VzID0gZXhwZW5zZXM7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNhdmVFeHBlbnNlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoJHNjb3BlLmV4cGVuc2VzZm9ybS4kdmFsaWQpIHtcblx0XHRcdFx0Ly8gUG9zdCB0aGUgZXhwZW5zZSB2aWEgUkVTVFxuXG5cdFx0XHRcdHJlc3RFeHBlbnNlcy5wb3N0KCRzY29wZS5uZXdFeHBlbnNlKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIFJlbG9hZCBuZXcgZXhwZW5zZXMgbGlzdFxuXHRcdFx0XHRcdGxvYWRFeHBlbnNlcygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0JHNjb3BlLiR3YXRjaEdyb3VwKFsnbmV3RXhwZW5zZS5hbW91bnQnXSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoJHNjb3BlLm5ld0V4cGVuc2UuYW1vdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIHN0ckFtb3VudCA9ICRzY29wZS5uZXdFeHBlbnNlLmFtb3VudDtcblx0XHRcdFx0dmFyIHMgPSBzdHJBbW91bnQuc3BsaXQoL1tFVVJdfCDigqwgfFxcdTIwQUMvZ2kpO1xuXG5cdFx0XHRcdGlmIChzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHQvL3JlbW92ZSAgRVVSIGZyb20gYW1vdW50IGlmIGFueVxuXHRcdFx0XHRcdHZhciB0aGVBbW91bnQgPSBwYXJzZUZsb2F0KHMuam9pbignJykudHJpbSgpKTtcblxuXHRcdFx0XHRcdHMgPSB0aGVBbW91bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdCRzY29wZS5uZXdFeHBlbnNlLnZhdCA9IChzIC0gcyAvIDEuMikudG9GaXhlZCgyKTtcblx0XHR9KTtcblx0XHQkc2NvcGUuY2xlYXJFeHBlbnNlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkc2NvcGUubmV3RXhwZW5zZSA9IHt9O1xuXHRcdH07XG5cblx0XHQvLyBJbml0aWFsaXNlIHNjb3BlIHZhcmlhYmxlc1xuXHRcdGxvYWRFeHBlbnNlcygpO1xuXHRcdCRzY29wZS5jbGVhckV4cGVuc2UoKTtcblx0fSxcbl0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuVGFza3MgbWFpblxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnJlcXVpcmUoXCIuL2V4cGVuc2VzLWNvbnRyb2xsZXIuanNcIik7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImV4cGVuc2VzLmNvbnRyb2xsZXJzXCIsIFtcblx0XCJleHBlbnNlcy5jb250cm9sbGVyXCJcbl0pO1xuXG5hcHAuY29uZmlnKFtcIiRyb3V0ZVByb3ZpZGVyXCIsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdC8vIExhYm91ciBhbmFseXNpcyByb3V0ZXNcblx0JHJvdXRlUHJvdmlkZXIud2hlbihcIi9leHBlbnNlc1wiLCB7IHRlbXBsYXRlVXJsOiBcImNvZGluZ3Rlc3QvZXhwZW5zZXMtY29udGVudC5odG1sXCIgfSk7XG5cblx0JHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiBcIi9leHBlbnNlc1wifSk7XG59XSk7XG5cbmFwcC5ydW4oW1wiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cdC8vIEFkZCBhcHAgYnV0dG9uXG5cdCRyb290U2NvcGUuYXBwU2VjdGlvbnMgPSAkcm9vdFNjb3BlLmFwcFNlY3Rpb25zIHx8IFtdO1xuXHQkcm9vdFNjb3BlLmFwcFNlY3Rpb25zLnB1c2goeyB0aXRsZTogXCJFeHBlbnNlc1wiLCBpbWFnZTogXCJpbWcvaWNvbi1nZW5lcmljLnBuZ1wiLCBhcHA6IFwiZXhwZW5zZXNcIiB9KTtcblxuXHQvLyBDb25maWd1cmUgdGFiIHNlY3Rpb25zXG5cdCRyb290U2NvcGUudGFiU2VjdGlvbnMgPSAkcm9vdFNjb3BlLnRhYlNlY3Rpb25zIHx8IHt9O1xuXHQkcm9vdFNjb3BlLnRhYlNlY3Rpb25zLmV4cGVuc2VzID0gW1xuXHRcdHsgdGl0bGU6IFwiRXhwZW5zZXNcIiwgYXBwOiBcImV4cGVuc2VzXCIgfVxuXHRdO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJjb2Rpbmd0ZXN0LnBhcnRpYWxzXCIsW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGUpe2UucHV0KFwiY29kaW5ndGVzdC9leHBlbnNlcy1jb250ZW50Lmh0bWxcIiwnPGRpdiBuZy1jb250cm9sbGVyPVwiY3RybEV4cGVuc2VzXCI+PGgyPkV4cGVuc2VzPC9oMj48ZGl2IGJvb2ttYXJrbGlzdCBpZD1cImJvb2ttYXJrc1wiIGNsYXNzPVwic2VjdGlvbi1saXN0XCI+PC9kaXY+PGgzPkFkZCBhbiBleHBlbnNlPC9oMz48Zm9ybSBuYW1lPVwiZXhwZW5zZXNmb3JtXCI+PHVsPjxsaT48bGFiZWw+RGF0ZTwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5kYXRlXCIgdWktZGF0ZT1cImRhdGVPcHRpb25zXCIgcGxhY2Vob2xkZXI9XCJkZC9tbS95eXl5XCI+PC9saT48bGk+PGxhYmVsPkFtb3VudDwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXBhdHRlcm4tcmVzdHJpY3Q9XCJeJHxeW0EtWmEtejAtOV0rXCIgbmctcmVxdWlyZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJuZXdFeHBlbnNlLmFtb3VudFwiIHBsYWNlaG9sZGVyPVwiMDAuMDBcIj48L2xpPjxsaT48bGFiZWw+VkFUKDIwJSk8L2xhYmVsPiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZXF1aXJlZD1cImZhbHNlXCIgcmVhZG9ubHk9XCJ0cnVlXCIgbmctbW9kZWw9XCJuZXdFeHBlbnNlLnZhdFwiIHBsYWNlaG9sZGVyPVwiMDAuMDBcIj48L2xpPjxsaT48bGFiZWw+UmVhc29uPC9sYWJlbD4gPHRleHRhcmVhIGF0LWF1dG8tcmVzaXplIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5yZWFzb25cIiBuZy10cmltPVwiZmFsc2VcIiBwbGFjZWhvbGRlcj1cIndoeSBvaCB3aHk/XCI+PC90ZXh0YXJlYT48L2xpPjxsaT48bGFiZWw+PC9sYWJlbD4gPGJ1dHRvbiBuZy1jbGljaz1cInNhdmVFeHBlbnNlKClcIiBjbGFzcz1cInNvbGlkXCI+U2F2ZSBFeHBlbnNlPC9idXR0b24+IDxidXR0b24gbmctY2xpY2s9XCJjbGVhckV4cGVuc2UoKVwiPmNhbmNlbDwvYnV0dG9uPjwvbGk+PC91bD48L2Zvcm0+PGgzPlN1Ym1pdHRlZCBleHBlbnNlczwvaDM+PGRpdiBjbGFzcz1cImxpc3QtdGFibGUgZXhwZW5zZXMtZGF0YVwiPjxkaXYgY2xhc3M9XCJoZWFkZXItcm93XCI+PGRpdiBjbGFzcz1cImNvbC00XCI+RGF0ZTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtNCBmaWd1cmVzXCI+QW1vdW50IChpbmMuIFZBVCk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTIgZmlndXJlc1wiPlZBVDwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMTVcIj5SZWFzb248L2Rpdj48L2Rpdj48ZGl2IG5nLXJlcGVhdD1cImV4cGVuc2UgaW4gZXhwZW5zZXNcIiBjbGFzcz1cImJvZHktcm93XCI+PGRpdiBjbGFzcz1cImNvbC00XCI+e3tleHBlbnNlLmRhdGUgfCBkYXRlOlxcJ2RkIE1NTSB5eXl5XFwnfX08L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTQgZmlndXJlc1wiPnt7ZXhwZW5zZS5hbW91bnQgfCBjdXJyZW5jeTpcIiZwb3VuZDtcIn19PC9kaXY+PGRpdiBjbGFzcz1cImNvbC0yIGZpZ3VyZXNcIj57e2V4cGVuc2UudmF0IHwgY3VycmVuY3k6XCImcG91bmQ7XCJ9fTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMTVcIj57e2V4cGVuc2UucmVhc29ufX08L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKX1dKTsiXX0="}