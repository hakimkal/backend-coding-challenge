{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","js/apps/codingtest/codingtest-main.js","js/apps/codingtest/expenses/expenses-controller.js","js/apps/codingtest/expenses/main.js","js/apps/codingtest/partials.js"],"names":[],"mappings":"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","file":"../backend-coding-challenge/codingtest.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\n\n/******************************************************************************************\n\nAlchemytec Coding Test for Expenses Back End\n\n******************************************************************************************/\n\n// App files\nrequire(\"./partials.js\");\nrequire(\"./expenses/main.js\");\n\n// Declare app level module which depends on filters, and services\nvar app = angular.module(\"alcExpenses\", [\n\t\"alcShared\",\n\t\"codingtest.partials\",\n\t\"expenses.controllers\"\n]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Basic config options\n\tvar gulpBuildConfig = {};\n\t$rootScope.config = angular.extend({ angular: angular.version.full }, gulpBuildConfig);\n\n\t// Headings used by the menu bars\n\t$rootScope.mainTitle = \"\";\n\t$rootScope.mainHeading = \"\";\n\n\t// Sections of content are used for bookmark navigation\n\t$rootScope.contentSections = [];\n\n\t// App sections are distinct areas of the website\n\t// These will ultimately be retrieved from the server\n\t$rootScope.appSections = $rootScope.appSections || [];\n\n\t// Initialise tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.currentSection = [];\n\t$rootScope.selectTabSection = function(currentSection, selectedIndex) {\n\t\tif ($rootScope.tabSections[currentSection]) {\n\t\t\t$rootScope.currentSection = angular.copy($rootScope.tabSections[currentSection]);\n\n\t\t\tfor (var u = 0; u < $rootScope.currentSection.length; u++) {\n\t\t\t\tif (u == selectedIndex)\n\t\t\t\t\t$rootScope.currentSection[u].active = true;\n\t\t\t\telse\n\t\t\t\t\t$rootScope.currentSection[u].active = false;\n\t\t\t}\n\t\t}\n\t};\n}]);\n\n// Bootstrap the app\n$(document).ready(function() {\n\tangular.bootstrap(\"body\", [\"alcExpenses\"]);\n});\n","\"use strict\";\n\n/******************************************************************************************\n\nExpenses controller\n\n******************************************************************************************/\n\nvar app = angular.module(\"expenses.controller\", []);\n\napp.controller(\"ctrlExpenses\", [\"$rootScope\", \"$scope\", \"config\", \"restalchemy\", function ExpensesCtrl($rootScope, $scope, $config, $restalchemy) {\n\t// Update the headings\n\t$rootScope.mainTitle = \"Expenses\";\n\t$rootScope.mainHeading = \"Expenses\";\n\n\t// Update the tab sections\n\t$rootScope.selectTabSection(\"expenses\", 0);\n\n\tvar restExpenses = $restalchemy.init({ root: $config.apiroot }).at(\"expenses\");\n\n\t$scope.dateOptions = {\n\t\tchangeMonth: true,\n\t\tchangeYear: true,\n\t\tdateFormat: \"dd/mm/yy\"\n\t};\n\n\tvar loadExpenses = function() {\n\t\t// Retrieve a list of expenses via REST\n\t\trestExpenses.get().then(function(expenses) {\n\t\t\t$scope.expenses = expenses;\n\t\t});\n\t}\n\n\t$scope.saveExpense = function() {\n\t\tif ($scope.expensesform.$valid) {\n\t\t\t// Post the expense via REST\n\t\t\trestExpenses.post($scope.newExpense).then(function() {\n\t\t\t\t// Reload new expenses list\n\t\t\t\tloadExpenses();\n\t\t\t});\n\t\t}\n\t};\n\n\t$scope.clearExpense = function() {\n\t\t$scope.newExpense = {};\n\t};\n\n\t// Initialise scope variables\n\tloadExpenses();\n\t$scope.clearExpense();\n}]);\n","\"use strict\";\n\n/******************************************************************************************\n\nTasks main\n\n******************************************************************************************/\n\nrequire(\"./expenses-controller.js\");\n\nvar app = angular.module(\"expenses.controllers\", [\n\t\"expenses.controller\"\n]);\n\napp.config([\"$routeProvider\", function($routeProvider) {\n\t// Labour analysis routes\n\t$routeProvider.when(\"/expenses\", { templateUrl: \"codingtest/expenses-content.html\" });\n\n\t$routeProvider.otherwise({redirectTo: \"/expenses\"});\n}]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Add app button\n\t$rootScope.appSections = $rootScope.appSections || [];\n\t$rootScope.appSections.push({ title: \"Expenses\", image: \"img/icon-generic.png\", app: \"expenses\" });\n\n\t// Configure tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.tabSections.expenses = [\n\t\t{ title: \"Expenses\", app: \"expenses\" }\n\t];\n}]);\n","angular.module(\"codingtest.partials\",[]).run([\"$templateCache\",function(e){e.put(\"codingtest/expenses-content.html\",'<div ng-controller=\"ctrlExpenses\"><h2>Expenses</h2><div bookmarklist id=\"bookmarks\" class=\"section-list\"></div><h3>Add an expense</h3><form name=\"expensesform\"><ul><li><label>Date</label> <input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.date\" ui-date=\"dateOptions\" placeholder=\"dd/mm/yyyy\"></li><li><label>Amount</label> <input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.amount\" placeholder=\"00.00\"></li><li><label>Reason</label> <textarea at-auto-resize ng-required=\"true\" ng-model=\"newExpense.reason\" ng-trim=\"false\" placeholder=\"why oh why?\"></textarea></li><li><label></label> <button ng-click=\"saveExpense()\" class=\"solid\">Save Expense</button> <button ng-click=\"clearExpense()\">cancel</button></li></ul></form><h3>Submitted expenses</h3><div class=\"list-table expenses-data\"><div class=\"header-row\"><div class=\"col-4\">Date</div><div class=\"col-4 figures\">Amount (inc. VAT)</div><div class=\"col-2 figures\">VAT</div><div class=\"col-15\">Reason</div></div><div ng-repeat=\"expense in expenses\" class=\"body-row\"><div class=\"col-4\">{{expense.date | date:\\'dd MMM yyyy\\'}}</div><div class=\"col-4 figures\">{{expense.amount | currency:\"&pound;\"}}</div><div class=\"col-2 figures\">{{expense.vat | currency:\"&pound;\"}}</div><div class=\"col-15\">{{expense.reason}}</div></div></div></div>')}]);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvY29kaW5ndGVzdC1tYWluLmpzIiwianMvYXBwcy9jb2Rpbmd0ZXN0L2V4cGVuc2VzL2V4cGVuc2VzLWNvbnRyb2xsZXIuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvZXhwZW5zZXMvbWFpbi5qcyIsImpzL2FwcHMvY29kaW5ndGVzdC9wYXJ0aWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQUVBOzs7Ozs7QUFNQTs7QUFDQSxRQUFRLGVBQVI7QUFDQSxRQUFRLG9CQUFSOztBQUVBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsTUFBUixDQUFlLGFBQWYsRUFBOEIsQ0FDdkMsV0FEdUMsRUFFdkMscUJBRnVDLEVBR3ZDLHNCQUh1QyxDQUE5QixDQUFWOztBQU1BLElBQUksR0FBSixDQUFRLENBQUMsWUFBRCxFQUFlLFVBQVMsVUFBVCxFQUFxQjtBQUMzQztBQUNBLEtBQUksa0JBQWtCLEVBQXRCO0FBQ0EsWUFBVyxNQUFYLEdBQW9CLFFBQVEsTUFBUixDQUFlLEVBQUUsU0FBUyxRQUFRLE9BQVIsQ0FBZ0IsSUFBM0IsRUFBZixFQUFrRCxlQUFsRCxDQUFwQjs7QUFFQTtBQUNBLFlBQVcsU0FBWCxHQUF1QixFQUF2QjtBQUNBLFlBQVcsV0FBWCxHQUF5QixFQUF6Qjs7QUFFQTtBQUNBLFlBQVcsZUFBWCxHQUE2QixFQUE3Qjs7QUFFQTtBQUNBO0FBQ0EsWUFBVyxXQUFYLEdBQXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDs7QUFFQTtBQUNBLFlBQVcsV0FBWCxHQUF5QixXQUFXLFdBQVgsSUFBMEIsRUFBbkQ7QUFDQSxZQUFXLGNBQVgsR0FBNEIsRUFBNUI7QUFDQSxZQUFXLGdCQUFYLEdBQThCLFVBQVMsY0FBVCxFQUF5QixhQUF6QixFQUF3QztBQUNyRSxNQUFJLFdBQVcsV0FBWCxDQUF1QixjQUF2QixDQUFKLEVBQTRD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QXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDtBQUNBLFlBQVcsV0FBWCxDQUF1QixRQUF2QixHQUFrQyxDQUNqQyxFQUFFLE9BQU8sVUFBVCxFQUFxQixLQUFLLFVBQTFCLEVBRGlDLENBQWxDO0FBR0EsQ0FWTyxDQUFSOzs7OztBQ3JCQSxRQUFRLE1BQVIsQ0FBZSxxQkFBZixFQUFxQyxFQUFyQyxFQUF5QyxHQUF6QyxDQUE2QyxDQUFDLGdCQUFELEVBQWtCLFVBQVMsQ0FBVCxFQUFXO0FBQUMsSUFBRSxHQUFGLENBQU0sa0NBQU4sRUFBeUMsb3hDQUF6QztBQUErekMsQ0FBNzFDLENBQTdDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuQWxjaGVteXRlYyBDb2RpbmcgVGVzdCBmb3IgRXhwZW5zZXMgQmFjayBFbmRcblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBBcHAgZmlsZXNcbnJlcXVpcmUoXCIuL3BhcnRpYWxzLmpzXCIpO1xucmVxdWlyZShcIi4vZXhwZW5zZXMvbWFpbi5qc1wiKTtcblxuLy8gRGVjbGFyZSBhcHAgbGV2ZWwgbW9kdWxlIHdoaWNoIGRlcGVuZHMgb24gZmlsdGVycywgYW5kIHNlcnZpY2VzXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhbGNFeHBlbnNlc1wiLCBbXG5cdFwiYWxjU2hhcmVkXCIsXG5cdFwiY29kaW5ndGVzdC5wYXJ0aWFsc1wiLFxuXHRcImV4cGVuc2VzLmNvbnRyb2xsZXJzXCJcbl0pO1xuXG5hcHAucnVuKFtcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuXHQvLyBCYXNpYyBjb25maWcgb3B0aW9uc1xuXHR2YXIgZ3VscEJ1aWxkQ29uZmlnID0ge307XG5cdCRyb290U2NvcGUuY29uZmlnID0gYW5ndWxhci5leHRlbmQoeyBhbmd1bGFyOiBhbmd1bGFyLnZlcnNpb24uZnVsbCB9LCBndWxwQnVpbGRDb25maWcpO1xuXG5cdC8vIEhlYWRpbmdzIHVzZWQgYnkgdGhlIG1lbnUgYmFyc1xuXHQkcm9vdFNjb3BlLm1haW5UaXRsZSA9IFwiXCI7XG5cdCRyb290U2NvcGUubWFpbkhlYWRpbmcgPSBcIlwiO1xuXG5cdC8vIFNlY3Rpb25zIG9mIGNvbnRlbnQgYXJlIHVzZWQgZm9yIGJvb2ttYXJrIG5hdmlnYXRpb25cblx0JHJvb3RTY29wZS5jb250ZW50U2VjdGlvbnMgPSBbXTtcblxuXHQvLyBBcHAgc2VjdGlvbnMgYXJlIGRpc3RpbmN0IGFyZWFzIG9mIHRoZSB3ZWJzaXRlXG5cdC8vIFRoZXNlIHdpbGwgdWx0aW1hdGVseSBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgc2VydmVyXG5cdCRyb290U2NvcGUuYXBwU2VjdGlvbnMgPSAkcm9vdFNjb3BlLmFwcFNlY3Rpb25zIHx8IFtdO1xuXG5cdC8vIEluaXRpYWxpc2UgdGFiIHNlY3Rpb25zXG5cdCRyb290U2NvcGUudGFiU2VjdGlvbnMgPSAkcm9vdFNjb3BlLnRhYlNlY3Rpb25zIHx8IHt9O1xuXHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uID0gW107XG5cdCRyb290U2NvcGUuc2VsZWN0VGFiU2VjdGlvbiA9IGZ1bmN0aW9uKGN1cnJlbnRTZWN0aW9uLCBzZWxlY3RlZEluZGV4KSB7XG5cdFx0aWYgKCRyb290U2NvcGUudGFiU2VjdGlvbnNbY3VycmVudFNlY3Rpb25dKSB7XG5cdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uID0gYW5ndWxhci5jb3B5KCRyb290U2NvcGUudGFiU2VjdGlvbnNbY3VycmVudFNlY3Rpb25dKTtcblxuXHRcdFx0Zm9yICh2YXIgdSA9IDA7IHUgPCAkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uLmxlbmd0aDsgdSsrKSB7XG5cdFx0XHRcdGlmICh1ID09IHNlbGVjdGVkSW5kZXgpXG5cdFx0XHRcdFx0JHJvb3RTY29wZS5jdXJyZW50U2VjdGlvblt1XS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0JHJvb3RTY29wZS5jdXJyZW50U2VjdGlvblt1XS5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XSk7XG5cbi8vIEJvb3RzdHJhcCB0aGUgYXBwXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0YW5ndWxhci5ib290c3RyYXAoXCJib2R5XCIsIFtcImFsY0V4cGVuc2VzXCJdKTtcbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuRXhwZW5zZXMgY29udHJvbGxlclxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImV4cGVuc2VzLmNvbnRyb2xsZXJcIiwgW10pO1xuXG5hcHAuY29udHJvbGxlcihcImN0cmxFeHBlbnNlc1wiLCBbXCIkcm9vdFNjb3BlXCIsIFwiJHNjb3BlXCIsIFwiY29uZmlnXCIsIFwicmVzdGFsY2hlbXlcIiwgZnVuY3Rpb24gRXhwZW5zZXNDdHJsKCRyb290U2NvcGUsICRzY29wZSwgJGNvbmZpZywgJHJlc3RhbGNoZW15KSB7XG5cdC8vIFVwZGF0ZSB0aGUgaGVhZGluZ3Ncblx0JHJvb3RTY29wZS5tYWluVGl0bGUgPSBcIkV4cGVuc2VzXCI7XG5cdCRyb290U2NvcGUubWFpbkhlYWRpbmcgPSBcIkV4cGVuc2VzXCI7XG5cblx0Ly8gVXBkYXRlIHRoZSB0YWIgc2VjdGlvbnNcblx0JHJvb3RTY29wZS5zZWxlY3RUYWJTZWN0aW9uKFwiZXhwZW5zZXNcIiwgMCk7XG5cblx0dmFyIHJlc3RFeHBlbnNlcyA9ICRyZXN0YWxjaGVteS5pbml0KHsgcm9vdDogJGNvbmZpZy5hcGlyb290IH0pLmF0KFwiZXhwZW5zZXNcIik7XG5cblx0JHNjb3BlLmRhdGVPcHRpb25zID0ge1xuXHRcdGNoYW5nZU1vbnRoOiB0cnVlLFxuXHRcdGNoYW5nZVllYXI6IHRydWUsXG5cdFx0ZGF0ZUZvcm1hdDogXCJkZC9tbS95eVwiXG5cdH07XG5cblx0dmFyIGxvYWRFeHBlbnNlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIFJldHJpZXZlIGEgbGlzdCBvZiBleHBlbnNlcyB2aWEgUkVTVFxuXHRcdHJlc3RFeHBlbnNlcy5nZXQoKS50aGVuKGZ1bmN0aW9uKGV4cGVuc2VzKSB7XG5cdFx0XHQkc2NvcGUuZXhwZW5zZXMgPSBleHBlbnNlcztcblx0XHR9KTtcblx0fVxuXG5cdCRzY29wZS5zYXZlRXhwZW5zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICgkc2NvcGUuZXhwZW5zZXNmb3JtLiR2YWxpZCkge1xuXHRcdFx0Ly8gUG9zdCB0aGUgZXhwZW5zZSB2aWEgUkVTVFxuXHRcdFx0cmVzdEV4cGVuc2VzLnBvc3QoJHNjb3BlLm5ld0V4cGVuc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFJlbG9hZCBuZXcgZXhwZW5zZXMgbGlzdFxuXHRcdFx0XHRsb2FkRXhwZW5zZXMoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHQkc2NvcGUuY2xlYXJFeHBlbnNlID0gZnVuY3Rpb24oKSB7XG5cdFx0JHNjb3BlLm5ld0V4cGVuc2UgPSB7fTtcblx0fTtcblxuXHQvLyBJbml0aWFsaXNlIHNjb3BlIHZhcmlhYmxlc1xuXHRsb2FkRXhwZW5zZXMoKTtcblx0JHNjb3BlLmNsZWFyRXhwZW5zZSgpO1xufV0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuVGFza3MgbWFpblxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnJlcXVpcmUoXCIuL2V4cGVuc2VzLWNvbnRyb2xsZXIuanNcIik7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImV4cGVuc2VzLmNvbnRyb2xsZXJzXCIsIFtcblx0XCJleHBlbnNlcy5jb250cm9sbGVyXCJcbl0pO1xuXG5hcHAuY29uZmlnKFtcIiRyb3V0ZVByb3ZpZGVyXCIsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdC8vIExhYm91ciBhbmFseXNpcyByb3V0ZXNcblx0JHJvdXRlUHJvdmlkZXIud2hlbihcIi9leHBlbnNlc1wiLCB7IHRlbXBsYXRlVXJsOiBcImNvZGluZ3Rlc3QvZXhwZW5zZXMtY29udGVudC5odG1sXCIgfSk7XG5cblx0JHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiBcIi9leHBlbnNlc1wifSk7XG59XSk7XG5cbmFwcC5ydW4oW1wiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cdC8vIEFkZCBhcHAgYnV0dG9uXG5cdCRyb290U2NvcGUuYXBwU2VjdGlvbnMgPSAkcm9vdFNjb3BlLmFwcFNlY3Rpb25zIHx8IFtdO1xuXHQkcm9vdFNjb3BlLmFwcFNlY3Rpb25zLnB1c2goeyB0aXRsZTogXCJFeHBlbnNlc1wiLCBpbWFnZTogXCJpbWcvaWNvbi1nZW5lcmljLnBuZ1wiLCBhcHA6IFwiZXhwZW5zZXNcIiB9KTtcblxuXHQvLyBDb25maWd1cmUgdGFiIHNlY3Rpb25zXG5cdCRyb290U2NvcGUudGFiU2VjdGlvbnMgPSAkcm9vdFNjb3BlLnRhYlNlY3Rpb25zIHx8IHt9O1xuXHQkcm9vdFNjb3BlLnRhYlNlY3Rpb25zLmV4cGVuc2VzID0gW1xuXHRcdHsgdGl0bGU6IFwiRXhwZW5zZXNcIiwgYXBwOiBcImV4cGVuc2VzXCIgfVxuXHRdO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJjb2Rpbmd0ZXN0LnBhcnRpYWxzXCIsW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGUpe2UucHV0KFwiY29kaW5ndGVzdC9leHBlbnNlcy1jb250ZW50Lmh0bWxcIiwnPGRpdiBuZy1jb250cm9sbGVyPVwiY3RybEV4cGVuc2VzXCI+PGgyPkV4cGVuc2VzPC9oMj48ZGl2IGJvb2ttYXJrbGlzdCBpZD1cImJvb2ttYXJrc1wiIGNsYXNzPVwic2VjdGlvbi1saXN0XCI+PC9kaXY+PGgzPkFkZCBhbiBleHBlbnNlPC9oMz48Zm9ybSBuYW1lPVwiZXhwZW5zZXNmb3JtXCI+PHVsPjxsaT48bGFiZWw+RGF0ZTwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5kYXRlXCIgdWktZGF0ZT1cImRhdGVPcHRpb25zXCIgcGxhY2Vob2xkZXI9XCJkZC9tbS95eXl5XCI+PC9saT48bGk+PGxhYmVsPkFtb3VudDwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5hbW91bnRcIiBwbGFjZWhvbGRlcj1cIjAwLjAwXCI+PC9saT48bGk+PGxhYmVsPlJlYXNvbjwvbGFiZWw+IDx0ZXh0YXJlYSBhdC1hdXRvLXJlc2l6ZSBuZy1yZXF1aXJlZD1cInRydWVcIiBuZy1tb2RlbD1cIm5ld0V4cGVuc2UucmVhc29uXCIgbmctdHJpbT1cImZhbHNlXCIgcGxhY2Vob2xkZXI9XCJ3aHkgb2ggd2h5P1wiPjwvdGV4dGFyZWE+PC9saT48bGk+PGxhYmVsPjwvbGFiZWw+IDxidXR0b24gbmctY2xpY2s9XCJzYXZlRXhwZW5zZSgpXCIgY2xhc3M9XCJzb2xpZFwiPlNhdmUgRXhwZW5zZTwvYnV0dG9uPiA8YnV0dG9uIG5nLWNsaWNrPVwiY2xlYXJFeHBlbnNlKClcIj5jYW5jZWw8L2J1dHRvbj48L2xpPjwvdWw+PC9mb3JtPjxoMz5TdWJtaXR0ZWQgZXhwZW5zZXM8L2gzPjxkaXYgY2xhc3M9XCJsaXN0LXRhYmxlIGV4cGVuc2VzLWRhdGFcIj48ZGl2IGNsYXNzPVwiaGVhZGVyLXJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtNFwiPkRhdGU8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTQgZmlndXJlc1wiPkFtb3VudCAoaW5jLiBWQVQpPC9kaXY+PGRpdiBjbGFzcz1cImNvbC0yIGZpZ3VyZXNcIj5WQVQ8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTE1XCI+UmVhc29uPC9kaXY+PC9kaXY+PGRpdiBuZy1yZXBlYXQ9XCJleHBlbnNlIGluIGV4cGVuc2VzXCIgY2xhc3M9XCJib2R5LXJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtNFwiPnt7ZXhwZW5zZS5kYXRlIHwgZGF0ZTpcXCdkZCBNTU0geXl5eVxcJ319PC9kaXY+PGRpdiBjbGFzcz1cImNvbC00IGZpZ3VyZXNcIj57e2V4cGVuc2UuYW1vdW50IHwgY3VycmVuY3k6XCImcG91bmQ7XCJ9fTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMiBmaWd1cmVzXCI+e3tleHBlbnNlLnZhdCB8IGN1cnJlbmN5OlwiJnBvdW5kO1wifX08L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTE1XCI+e3tleHBlbnNlLnJlYXNvbn19PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyl9XSk7Il19"}